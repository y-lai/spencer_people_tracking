<?xml version="1.0"?>
<launch>
    <arg name="use_upper_body_detector" default="true"/> <!-- use depth-template-based upper-body detector? -->
    <arg name="use_pcl_detector" default="false"/> <!-- use ROI-HOG detector from PCL library? cannot be used with upper-body detector at the same time! -->
    <arg name="use_hog_detector" default="false"/> <!-- use RGB groundHOG detector? Requires cudaHOG library-->
    <arg name="static_base" default="true" /> <!-- whether odom is used or odom is always zero -->
    <arg name="base_link" default="kmp200_base_link" /> 
    <arg name="rear" value="true" />
    <arg name="camera_frame_prefix" default="spencer/sensors" />

    <!-- odom -->
    <node pkg="tf" type="static_transform_publisher" name="kmp200_odom_link" args="0 0 0 0 0 0 1 kmp200_base_link odom 20" if="$(arg static_base)" />

    <!-- RGB-D detectors -->
    <include file="$(find spencer_people_tracking_launch)/launch/detectors/front_rgbd_detectors.launch">
        <arg name="upper_body" value="$(arg use_upper_body_detector)"/>
        <arg name="pcl_detector" value="$(arg use_pcl_detector)"/>
        <arg name="hog" value="$(arg use_hog_detector)"/>
        <arg name="base_footprint_frame_id" value="$(arg base_link)" />
        <arg name="camera_frame_prefix" value="$(arg camera_frame_prefix)" />
        <arg name="compressed_transport" value="false" />
    </include>

    <include file="$(find spencer_people_tracking_launch)/launch/detectors/rear_rgbd_detectors.launch">
        <arg name="upper_body" value="$(arg use_upper_body_detector)"/>
        <arg name="pcl_detector" value="$(arg use_pcl_detector)"/>
        <arg name="hog" value="$(arg use_hog_detector)"/>
        <arg name="base_footprint_frame_id" value="$(arg base_link)" />
        <arg name="camera_frame_prefix" value="$(arg camera_frame_prefix)" />
        <arg name="compressed_transport" value="false" />
    </include>

    <!-- Laser detectors -->
    <include file="$(find spencer_people_tracking_launch)/launch/detectors/laser_detectors.launch"/> 


    <!-- People tracking -->
    <include file="$(find spencer_people_tracking_launch)/launch/tracking/freiburg_people_tracking.launch">
        <arg name="rgbd" default="true"/>
        <arg name="laser_low_confidence_detections" default="true"/>
        <arg name="base_footprint_frame_id" value="$(arg base_link)" />
    </include>

    <!-- Group tracking -->
    <!-- <include file="$(find spencer_people_tracking_launch)/launch/tracking/group_tracking.launch"/>  -->

</launch>
